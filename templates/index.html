<!DOCTYPE html>
<html>
<head>
    <title>ESP32 Monitoring</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.0.0/socket.io.js"></script>
</head>
<body>
    <h1>ESP32 Monitoring</h1>
    <p>Temperature: <span id="temperature">0</span> Â°C</p>
    <p>Humidity: <span id="humidity">0</span> %</p>
    <p>LED State: <span id="led">OFF</span></p>
    <button onclick="toggleLED()">Toggle LED</button>

    <script>
        const socket = io();
        socket.on('connect', () => {
            console.log('Connected to server');
        });
        socket.on('sensor_update', (data) => {
            document.getElementById('temperature').textContent = data.temperature;
            document.getElementById('humidity').textContent = data.humidity;
        });
        socket.on('actuator_update', (data) => {
            document.getElementById('led').textContent = data.led ? 'ON' : 'OFF';
        });
        function toggleLED() {
            socket.emit('actuator_control', { led: !JSON.parse(document.getElementById('led').textContent === 'ON') });
        }
    </script>
</body>
</html>